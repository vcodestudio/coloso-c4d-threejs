import{S as k,i as D,s as x,k as E,l as F,m as G,h as _,n as W,b as q,I as p,o as A,w as $}from"../chunks/index.2ecc7cbf.js";import{C as b,P as H,S as O,F as R,W as z,s as B,e as I,D as v,i as N}from"../chunks/three.module.a6fd982f.js";import{O as T}from"../chunks/OrbitControls.4dddf048.js";import{G as U}from"../chunks/GLTFLoader.a254f7ff.js";function V(c){let e;return{c(){e=E("canvas"),this.h()},l(a){e=F(a,"CANVAS",{class:!0}),G(e).forEach(_),this.h()},h(){W(e,"class","svelte-9oakpb")},m(a,s){q(a,e,s),c[1](e)},p,i:p,o:p,d(a){a&&_(e),c[1](null)}}}function j(c,e,a){let s,d,t,r,i;new b("hsl(30,100%,60%)");let n,u;A(()=>{S(),f()});function S(){const l=new b("hsl(280,100%,0%)");d=new H(30,window.innerWidth/window.innerHeight,1,3e3),d.position.set(30,0,30),t=new O,t.background=l,t.fog=new R(l,40,80),u=new CreateParticle({scene:t,particleCount:1e3}),r=new z({antialias:!0,canvas:s}),r.setSize(window.innerWidth,window.innerHeight),r.outputEncoding=B,i=new T(d,r.domElement),i.target.set(0,0,0),i.enableDamping=!0,i.minDistance=50,i.maxDistance=50;let L=new U;const y=document.querySelector("input.baseUrl").value;L.load(`${y}particle/model.glb`,function(M){n=M.scene;const m=.15;n.scale.set(m,m,m),n.position.set(0,-40,0),n.rotation.set(0,0,0),t.add(n),n.traverse(function(o){if(o.isMesh){console.log(o.material);let P=new I({color:16777215,roughness:.8,bumpMap:o.material.normalMap,bumpScale:.1});o.material=P,o.castShadow=!0,o.receiveShadow=!0}})});let h=new v(16777215,1);h.position.set(-.1,0,-1),t.add(h);let w=new N("hsl(180,50%,60%)",5,50);w.position.set(0,30,0),t.add(w);let g=new v("hsl(200,50%,50%)",.1);g.position.set(-.5,1,0),t.add(g)}function f(){requestAnimationFrame(f),i.update(),u.update(),n&&(n.rotation.y+=.005),r.render(t,d)}function C(l){$[l?"unshift":"push"](()=>{s=l,a(0,s)})}return[s,C]}class Y extends k{constructor(e){super(),D(this,e,j,V,x,{})}}export{Y as default};
