import{S as k,i as F,s as I,k as y,a as H,q as T,l as C,m as L,h as c,c as A,r as $,n as v,b as h,E as W,J as P,o as j,w as B}from"../chunks/index.32e2af34.js";import{P as J,S as N,C as D,W as U,s as K,A as O,H as Q,a as X,e as q,i as Y,h as Z}from"../chunks/three.module.a6fd982f.js";import{G as ee}from"../chunks/GLTFLoader.a254f7ff.js";function se(_){let o,w,n,a,r,i,m;return{c(){o=y("canvas"),w=H(),n=y("div"),a=y("div"),r=H(),i=y("div"),m=T("Scroll Down"),this.h()},l(e){o=C(e,"CANVAS",{id:!0,class:!0}),L(o).forEach(c),w=A(e),n=C(e,"DIV",{class:!0});var t=L(n);a=C(t,"DIV",{class:!0});var b=L(a);b.forEach(c),t.forEach(c),r=A(e),i=C(e,"DIV",{class:!0});var x=L(i);m=$(x,"Scroll Down"),x.forEach(c),this.h()},h(){v(o,"id","canvas"),v(o,"class","svelte-ia9xv6"),v(a,"class","svelte-ia9xv6"),v(n,"class","scroll svelte-ia9xv6"),v(i,"class","text svelte-ia9xv6")},m(e,t){h(e,o,t),_[1](o),h(e,w,t),h(e,n,t),W(n,a),h(e,r,t),h(e,i,t),W(i,m)},p:P,i:P,o:P,d(e){e&&c(o),_[1](null),e&&c(w),e&&c(n),e&&c(r),e&&c(i)}}}function ie(_,o,w){let n,a,r,i,m,e,t;j(()=>{b(),z()});function b(){a=new J(45,window.innerWidth/window.innerHeight,1,2e3),a.position.set(0,0,200),r=new N,r.background=new D(0),i=new U({antialias:!0,canvas:n}),i.setPixelRatio(window.devicePixelRatio),i.setSize(window.innerWidth,window.innerHeight),i.outputEncoding=K,i.shadowMap.enabled=!0,i.toneMapping=O,window.addEventListener("resize",x);const p=new Q(16777215,0,.01);p.position.set(0,1,0),r.add(p);const G=new ee,V=document.querySelector("input.baseUrl").value;G.load(`${V}scroll/model.glb`,function(u){const S=u.scene;S.position.set(0,0,0);const f=.1;S.scale.set(f,f,f),m=new X(S),r.add(S),t=m.clipAction(u.animations[0]),t.play();const g=document.querySelector(".scroll"),E=t.getClip().duration,d=u.cameras[0];d&&(a.position.set(d.position.x*f,d.position.y*f,d.position.z*f),a.rotation.set(d.rotation.x,d.rotation.y,d.rotation.z),a.fov=d.fov),u.scene.traverse(function(s){if(s.isMesh&&(s.material=new q({color:s.material.color,emissive:s.material.emissive,roughness:1}),s.castShadow=!0,s.receiveShadow=!0),s.name.toLowerCase().includes("light")){const l=new Y(16777215,1,200);l.position.set(s.position.x,s.position.y,s.position.z),s.add(l);const M=new D("hsl(40,100%,100%)");l.color=M,l.castShadow=!0,l.shadow.mapSize.width=512,l.shadow.mapSize.height=512,l.shadow.camera.near=.5,l.shadow.camera.far=500,l.shadow.radius=10,s.material.emissive=M}s.name.toLowerCase().includes("noshadow")&&(s.castShadow=!1,s.receiveShadow=!1),s.name.toLowerCase().includes("glass")&&(s.material=new q({color:s.material.color,transmission:1,roughness:.5,ior:1.8,emissive:s.material.emissive}),s.material.side=Z)}),g.addEventListener("scroll",s=>{e=g.scrollTop/(g.scrollHeight-g.clientHeight)*E,e>E-.03&&(e=E-.03),t.time=e,m.update(.01)})},void 0,function(u){console.error(u)})}function x(){a.aspect=window.innerWidth/window.innerHeight,a.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight)}function z(){requestAnimationFrame(z),i.render(r,a)}function R(p){B[p?"unshift":"push"](()=>{n=p,w(0,n)})}return[n,R]}class oe extends k{constructor(o){super(),F(this,o,ie,se,I,{})}}export{oe as default};
