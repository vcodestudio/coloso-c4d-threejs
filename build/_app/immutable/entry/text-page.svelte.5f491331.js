import{S as M,i as S,s as y,k as P,l as W,m as A,h as m,n as C,b as k,J as w,o as z,w as E}from"../chunks/index.32e2af34.js";import{P as R,S as F,C as G,at as H,F as q,i as $,W as B,s as j,g as J}from"../chunks/three.module.a6fd982f.js";import{G as N}from"../chunks/GLTFLoader.a254f7ff.js";function T(c){let n;return{c(){n=P("canvas"),this.h()},l(t){n=W(t,"CANVAS",{id:!0}),A(n).forEach(m),this.h()},h(){C(n,"id","canvas")},m(t,e){k(t,n,e),c[1](n)},p:w,i:w,o:w,d(t){t&&m(n),c[1](null)}}}function U(c,n,t){let e,i,a,d,u=[];z(()=>{h(),f()});function h(){e=new R(45,window.innerWidth/window.innerHeight,1,2e3),e.position.set(0,0,200),i=new F,i.background=new G(0);const o=new H(13421772,.4);i.add(o),i.fog=new q(0,80,120);const v=new $(16777215,.8);e.add(v),i.add(e),e.lookAt(0,0,0),a=new B({antialias:!0,canvas:d}),a.setPixelRatio(window.devicePixelRatio),a.setSize(window.innerWidth,window.innerHeight),a.outputEncoding=j,a.shadowMap.enabled=!0,window.addEventListener("resize",g);const b=new N,x=document.querySelector("input.baseUrl").value;b.load(`${x}text/model.glb`,function(l){const r=l.scene;r.position.set(0,0,0),r.scale.set(.1,.1,.1),i.add(r),console.log(r),r.traverse(function(s){if(s.name.toLowerCase().includes("camera")&&(e.position.copy(s.position),e.rotation.copy(s.rotation),e.position.z*=.1),s.isMesh){const L=s.material,p=new J({map:L.emissiveMap});s.material=p,u.push(p)}})},void 0,function(l){console.error(l)})}function g(){e.aspect=window.innerWidth/window.innerHeight,e.updateProjectionMatrix(),a.setSize(window.innerWidth,window.innerHeight)}function f(){requestAnimationFrame(f),u.forEach(o=>{o.map.offset.y-=5e-4}),a.render(i,e),e.lookAt(0,0,0)}function _(o){E[o?"unshift":"push"](()=>{d=o,t(0,d)})}return[d,_]}class K extends M{constructor(n){super(),S(this,n,U,T,y,{})}}export{K as default};
